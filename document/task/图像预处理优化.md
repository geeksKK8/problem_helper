# 任务
目前图像预处理中存在以下问题，请进行修复：
1. 在"剪裁图片"模块中，在设置裁剪框时，当前默认鼠标点击的起始点为左上角点，使得当前只能向起始点的右下方向构建裁剪框，请解决该问题。

## 解决方案

### 问题分析
原代码存在两个问题：
1. 在 `handleMouseMove` 函数中使用 `Math.abs()` 计算宽度和高度，导致只能向右下方向构建裁剪框
2. 动态改变起始点位置，导致鼠标点击的起始点不固定

### 修复方案

#### 1. 添加固定起始点状态
```typescript
// 新增：固定起始点状态
const [drawStartPoint, setDrawStartPoint] = useState<{ x: number, y: number } | null>(null)
```

#### 2. 鼠标按下时记录固定起始点
```typescript
// 在鼠标按下事件中
setDrawStartPoint({ x: pos.x, y: pos.y }) // 记录固定起始点
```

#### 3. 使用固定起始点计算裁剪框
```typescript
if (isDrawing && currentArea && drawStartPoint) {
  setCurrentArea(prev => {
    if (!prev) return null
    
    // 使用固定的起始点计算裁剪框的位置和尺寸
    const startX = Math.min(drawStartPoint.x, pos.x)
    const startY = Math.min(drawStartPoint.y, pos.y)
    const endX = Math.max(drawStartPoint.x, pos.x)
    const endY = Math.max(drawStartPoint.y, pos.y)
    
    return {
      ...prev,
      x: startX,
      y: startY,
      width: endX - startX,
      height: endY - startY
    }
  })
}
```

#### 4. 清理状态
在鼠标抬起和重置时清理 `drawStartPoint` 状态。

### 修复效果
- ✅ 鼠标点击的起始点保持固定，不会随鼠标移动而改变
- ✅ 现在可以向任意方向拖拽创建裁剪框（左上、右上、左下、右下）
- ✅ 裁剪框的位置和尺寸根据固定起始点和当前鼠标位置正确计算
- ✅ 保持了原有的最小尺寸检查（10像素）
- ✅ 不影响现有的拖拽移动和缩放功能

### 状态：已完成 ✅